<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Among Us AZ - Telegram Oyunu</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            height: 100vh;
            overflow: hidden;
            color: #fff;
        }

        .app-container {
            max-width: 500px;
            margin: 0 auto;
            height: 100vh;
            background-color: rgba(26, 26, 46, 0.95);
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            background: linear-gradient(to right, #c51111, #8b0000);
            color: white;
            padding: 20px 15px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 10;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
            letter-spacing: 0.5px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        /* Screens */
        .screen {
            display: none;
            flex: 1;
            flex-direction: column;
            padding: 20px;
            overflow-y: auto;
        }

        .screen.active {
            display: flex;
        }

        /* Loading Screen */
        .loading-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
        }

        .loading-logo {
            font-size: 80px;
            color: #c51111;
            margin-bottom: 30px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .loading-text {
            font-size: 18px;
            margin-bottom: 20px;
            color: #ddd;
        }

        .loading-subtext {
            font-size: 14px;
            color: #888;
            margin-top: 30px;
            line-height: 1.5;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(197, 17, 17, 0.2);
            border-top-color: #c51111;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px 0;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Lobby Screen */
        .lobby-container {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .lobby-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .btn {
            flex: 1;
            background: linear-gradient(to right, #c51111, #8b0000);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            box-shadow: 0 4px 10px rgba(197, 17, 17, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(197, 17, 17, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(to right, #132fd2, #0a1f8c);
            box-shadow: 0 4px 10px rgba(19, 47, 210, 0.3);
        }

        .btn-success {
            background: linear-gradient(to right, #117f2d, #0a5c1f);
            box-shadow: 0 4px 10px rgba(17, 127, 45, 0.3);
        }

        .rooms-list {
            flex: 1;
            overflow-y: auto;
            margin-top: 10px;
        }

        .room-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .room-card:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: #c51111;
            transform: translateX(5px);
        }

        .room-icon {
            font-size: 30px;
            margin-right: 15px;
            color: #c51111;
        }

        .room-info {
            flex: 1;
        }

        .room-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .room-details {
            font-size: 12px;
            color: #aaa;
            display: flex;
            gap: 10px;
        }

        .room-status {
            font-size: 12px;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: 600;
        }

        .status-waiting { background: #117f2d; color: white; }
        .status-ingame { background: #c51111; color: white; }
        .status-starting { background: #ef7d0d; color: white; }

        /* Create Room Screen */
        .create-room-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #ddd;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            font-size: 16px;
        }

        .form-control:focus {
            outline: none;
            border-color: #c51111;
        }

        .map-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .map-option {
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .map-option.selected {
            border-color: #c51111;
            background: rgba(197, 17, 17, 0.2);
        }

        .map-icon {
            font-size: 30px;
            margin-bottom: 10px;
            color: #c51111;
        }

        .color-options {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .color-option {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .color-option.selected {
            border-color: white;
            transform: scale(1.1);
        }

        /* Room Screen */
        .room-container {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .room-header {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .room-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 5px;
            color: #c51111;
        }

        .room-code {
            font-size: 14px;
            color: #aaa;
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
            margin-top: 5px;
        }

        .players-list {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .player-card {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            transition: all 0.3s;
        }

        .player-color {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            margin-right: 15px;
            border: 2px solid white;
        }

        .player-info {
            flex: 1;
        }

        .player-name {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .player-status {
            font-size: 12px;
            color: #aaa;
        }

        .host-badge {
            background: #c51111;
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 10px;
            margin-left: 5px;
        }

        .bot-badge {
            background: #132fd2;
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 10px;
            margin-left: 5px;
        }

        .room-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: auto;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            padding: 12px;
            border-radius: 8px;
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .control-btn:hover {
            background: rgba(197, 17, 17, 0.3);
            transform: scale(1.05);
        }

        /* Game Screen */
        .game-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .game-map {
            flex: 1;
            background: linear-gradient(135deg, #0a0a1a, #151530);
            border-radius: 10px;
            margin-bottom: 10px;
            position: relative;
            overflow: hidden;
        }

        .player-character {
            position: absolute;
            width: 40px;
            height: 60px;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .character-body {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            position: absolute;
            top: 0;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        .character-legs {
            position: absolute;
            top: 35px;
            width: 30px;
            height: 20px;
            background: inherit;
            border-radius: 10px;
            left: 5px;
            animation: walk 1s ease-in-out infinite;
        }

        @keyframes walk {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(10deg); }
        }

        .character-name {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 10px;
            white-space: nowrap;
        }

        .game-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .game-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 24px;
            height: 60px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .game-btn:hover {
            background: rgba(197, 17, 17, 0.3);
        }

        .game-btn.kill {
            background: rgba(197, 17, 17, 0.5);
            color: white;
        }

        .game-btn.report {
            background: rgba(17, 127, 45, 0.5);
            color: white;
        }

        .game-btn.meeting {
            background: rgba(239, 125, 13, 0.5);
            color: white;
        }

        /* Tasks Screen */
        .tasks-container {
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 10px;
            margin-top: 10px;
        }

        .task-item {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .task-checkbox {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #aaa;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .task-checkbox.completed {
            background: #117f2d;
            border-color: #117f2d;
        }

        .task-checkbox.completed::after {
            content: '‚úì';
            color: white;
            font-size: 12px;
        }

        .task-info {
            flex: 1;
        }

        .task-name {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .task-location {
            font-size: 12px;
            color: #aaa;
        }

        /* Meeting Screen */
        .meeting-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 10, 26, 0.95);
            display: flex;
            flex-direction: column;
            padding: 20px;
            z-index: 100;
        }

        .meeting-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .meeting-title {
            font-size: 24px;
            color: #c51111;
            margin-bottom: 10px;
        }

        .meeting-timer {
            font-size: 18px;
            color: #aaa;
        }

        .voting-grid {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            overflow-y: auto;
        }

        .vote-option {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .vote-option:hover {
            border-color: #c51111;
            transform: scale(1.05);
        }

        .vote-option.selected {
            border-color: #c51111;
            background: rgba(197, 17, 17, 0.2);
        }

        .vote-color {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 0 auto 10px;
            border: 3px solid white;
        }

        .vote-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        /* Game End Screen */
        .end-screen {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 10, 26, 0.98);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            z-index: 200;
            text-align: center;
        }

        .end-title {
            font-size: 36px;
            margin-bottom: 20px;
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 10px currentColor; }
            50% { text-shadow: 0 0 20px currentColor; }
        }

        .victory { color: #117f2d; }
        .defeat { color: #c51111; }

        .end-roles {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            width: 100%;
            max-width: 400px;
            margin: 20px 0;
        }

        .role-player {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .role-player:last-child {
            border-bottom: none;
        }

        .role-badge {
            padding: 5px 10px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 600;
        }

        .role-impostor { background: #c51111; color: white; }
        .role-crewmate { background: #132fd2; color: white; }

        /* Footer */
        .footer {
            padding: 10px;
            text-align: center;
            font-size: 12px;
            color: #777;
            background: rgba(0, 0, 0, 0.3);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: #c51111;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            max-width: 90%;
            text-align: center;
            animation: slideDown 0.5s ease-out forwards;
        }

        @keyframes slideDown {
            to { transform: translateX(-50%) translateY(0); }
        }

        /* Mobile Optimizations */
        @media (max-width: 500px) {
            .app-container {
                border-radius: 0;
            }
            
            .header h1 {
                font-size: 20px;
            }
            
            .loading-logo {
                font-size: 60px;
            }
            
            .map-options {
                grid-template-columns: 1fr;
            }
            
            .color-options {
                grid-template-columns: repeat(6, 1fr);
            }
            
            .game-controls {
                grid-template-columns: repeat(3, 1fr);
                gap: 5px;
            }
            
            .game-btn {
                height: 50px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div class="header">
            <h1>Among Us AZ</h1>
            <p>Telegram il…ô oyna - Real oyun√ßular v…ô botlar</p>
        </div>

        <!-- Loading Screen -->
        <div id="loadingScreen" class="screen active">
            <div class="loading-container">
                <div class="loading-logo">
                    <i class="fas fa-user-astronaut"></i>
                </div>
                <div class="spinner"></div>
                <div class="loading-text">Telegram m…ôlumatlarƒ±nƒ±z y√ºkl…ônir...</div>
                <div class="loading-subtext">
                    <p>üéÆ Among Us tipli √ßoxoyun√ßulu oyun</p>
                    <p>ü§ñ Real oyun√ßularla v…ô botlarla oynaya bil…ôrsiniz</p>
                    <p>üîí Telegram m…ôlumatlarƒ±nƒ±z avtomatik y√ºkl…ônir</p>
                    <p>üèÜ Otaq yaradƒ±n v…ô ya m√∂vcud otaƒüa qo≈üulun</p>
                    <p style="margin-top: 20px; color: #c51111; font-weight: bold;">
                        T…ôrtibat√ßƒ±: @BTbots<br>
                        B√ºt√ºn h√ºquqlar qorunur ¬© 2023
                    </p>
                </div>
            </div>
        </div>

        <!-- Lobby Screen -->
        <div id="lobbyScreen" class="screen">
            <div class="lobby-container">
                <div class="lobby-actions">
                    <button class="btn" onclick="showScreen('createRoom')">
                        <i class="fas fa-plus"></i> Otaq Yarat
                    </button>
                    <button class="btn btn-secondary" onclick="refreshRooms()">
                        <i class="fas fa-sync-alt"></i> Yenil…ô
                    </button>
                </div>
                
                <h3 style="margin: 10px 0; color: #ddd;">M√∂vcud Otaqlar</h3>
                <div class="rooms-list" id="roomsList">
                    <!-- Otaqlar buraya y√ºkl…ôn…ôc…ôk -->
                    <div class="room-card">
                        <div class="room-icon">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <div class="room-info">
                            <div class="room-name">N√ºmun…ô Otaq</div>
                            <div class="room-details">
                                <span><i class="fas fa-user"></i> 3/10</span>
                                <span><i class="fas fa-map"></i> The Skeld</span>
                                <span class="room-status status-waiting">G√ñZL∆èYƒ∞R</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: auto; padding: 10px 0;">
                    <button class="btn btn-success" onclick="showScreen('profile')">
                        <i class="fas fa-user"></i> Profilim
                    </button>
                </div>
            </div>
        </div>

        <!-- Create Room Screen -->
        <div id="createRoomScreen" class="screen">
            <div class="create-room-container">
                <h2 style="margin-bottom: 20px; color: #c51111;">Yeni Otaq Yarad</h2>
                
                <div class="form-group">
                    <label>Otaq Adƒ±</label>
                    <input type="text" id="roomName" class="form-control" placeholder="M…ônim Otaƒüƒ±m" value="M…ônim Otaƒüƒ±m">
                </div>
                
                <div class="form-group">
                    <label>X…ôrit…ô Se√ß</label>
                    <div class="map-options" id="mapOptions">
                        <!-- X…ôrit…ôl…ôr JavaScript il…ô y√ºkl…ôn…ôc…ôk -->
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Maksimum Oyun√ßu Sayƒ±</label>
                    <select id="maxPlayers" class="form-control">
                        <option value="4">4 Oyun√ßu</option>
                        <option value="6">6 Oyun√ßu</option>
                        <option value="8" selected>8 Oyun√ßu</option>
                        <option value="10">10 Oyun√ßu</option>
                        <option value="12">12 Oyun√ßu</option>
                        <option value="15">15 Oyun√ßu</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Otaq ≈ûifr…ôsi (ƒ∞st…ôy…ô baƒülƒ±)</label>
                    <input type="password" id="roomPassword" class="form-control" placeholder="Bo≈ü buraxƒ±n, ≈üifr…ô olmasƒ±n">
                </div>
                
                <div class="form-group">
                    <label>R…ônginizi Se√ßin</label>
                    <div class="color-options" id="colorOptions">
                        <!-- R…ôngl…ôr JavaScript il…ô y√ºkl…ôn…ôc…ôk -->
                    </div>
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: auto;">
                    <button class="btn btn-secondary" onclick="showScreen('lobby')">
                        <i class="fas fa-arrow-left"></i> Geri
                    </button>
                    <button class="btn" onclick="createRoom()">
                        <i class="fas fa-check"></i> Otaq Yarat
                    </button>
                </div>
            </div>
        </div>

        <!-- Room Screen -->
        <div id="roomScreen" class="screen">
            <div class="room-container">
                <div class="room-header">
                    <div class="room-title" id="roomTitle">Otaq Adƒ±</div>
                    <div class="room-code" id="roomCode">Kod: Y√ºkl…ônir...</div>
                    <div id="roomStatus" class="room-status status-waiting" style="margin-top: 10px;">G√ñZL∆èYƒ∞R</div>
                </div>
                
                <h3 style="margin: 10px 0; color: #ddd;">Oyun√ßular</h3>
                <div class="players-list" id="playersList">
                    <!-- Oyun√ßular buraya y√ºkl…ôn…ôc…ôk -->
                </div>
                
                <div style="margin: 10px 0;">
                    <h4 style="color: #ddd; margin-bottom: 10px;">Oyun Nizamlamalarƒ±</h4>
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 10px; border-radius: 8px; font-size: 12px;">
                        <div>ƒ∞mpostor Sayƒ±: <span id="impostorCount">1</span></div>
                        <div>Q…ôtll…ôr √º√ß√ºn g√∂zl…ôm…ô: <span id="killCooldown">30s</span></div>
                        <div>T…ôcili g√∂r√º≈ül…ôr: <span id="emergencyMeetings">1</span></div>
                    </div>
                </div>
                
                <div class="room-controls">
                    <button class="control-btn" onclick="addBot()" title="Bot ∆èlav…ô Et">
                        <i class="fas fa-robot"></i>
                    </button>
                    <button class="control-btn" onclick="removeBot()" title="Bot Sil">
                        <i class="fas fa-user-minus"></i>
                    </button>
                    <button class="control-btn" onclick="leaveRoom()" title="Otaqdan √áƒ±x">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                    <button class="control-btn" onclick="startGame()" title="Oyunu Ba≈ülat" style="grid-column: span 3; background: #117f2d;">
                        <i class="fas fa-play"></i> OYUNU BA≈ûLAT
                    </button>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen">
            <div class="game-container">
                <div class="game-map" id="gameMap">
                    <!-- Oyun x…ôrit…ôsi burada g√∂r√ºn…ôc…ôk -->
                    <div id="playersContainer"></div>
                </div>
                
                <div class="tasks-container" id="tasksContainer">
                    <!-- Tap≈üƒ±rƒ±qlar burada g√∂r√ºn…ôc…ôk -->
                </div>
                
                <div class="game-controls" id="gameControls">
                    <!-- Oyun idar…ô d√ºym…ôl…ôri burada g√∂r√ºn…ôc…ôk -->
                </div>
            </div>
        </div>

        <!-- Meeting Screen -->
        <div id="meetingScreen" class="screen">
            <div class="meeting-container">
                <div class="meeting-header">
                    <div class="meeting-title" id="meetingTitle">G√ñR√ú≈û</div>
                    <div class="meeting-timer" id="meetingTimer">60 saniy…ô qaldƒ±</div>
                </div>
                
                <div class="voting-grid" id="votingGrid">
                    <!-- S…ôsverm…ô se√ßiml…ôri burada g√∂r√ºn…ôc…ôk -->
                </div>
            </div>
        </div>

        <!-- Game End Screen -->
        <div id="endScreen" class="screen">
            <div class="end-screen">
                <div class="end-title victory" id="endTitle">QALƒ∞B G∆èLDƒ∞Nƒ∞Z!</div>
                <div class="end-roles" id="endRoles">
                    <!-- Rollar burada g√∂r√ºn…ôc…ôk -->
                </div>
                <button class="btn" onclick="returnToLobby()" style="width: 200px;">
                    <i class="fas fa-home"></i> Lobby…ô Qayƒ±t
                </button>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Among Us AZ - Telegram Oyunu | T…ôrtibat√ßƒ±: @BTbots | B√ºt√ºn h√ºquqlar qorunur ¬© 2023</p>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer"></div>

    <!-- Socket.io and Game Script -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script>
        // Global d…ôyi≈ü…ônl…ôr
        let socket = null;
        let currentPlayer = null;
        let currentRoom = null;
        let currentMap = null;
        let gameState = 'lobby';
        let selectedColor = null;
        let selectedMap = 'skeld';
        let playerCharacters = new Map();
        let meetingTimer = null;
        let votingTimer = null;

        // S…ôhif…ô y√ºkl…ôndikd…ô
        document.addEventListener('DOMContentLoaded', function() {
            // Telegram WebView yoxla
            const isTelegram = window.Telegram && window.Telegram.WebApp;
            
            if (isTelegram) {
                // Telegram WebApp-d…ôn m…ôlumatlarƒ± al
                const tg = window.Telegram.WebApp;
                tg.expand();
                tg.ready();
                
                const user = tg.initDataUnsafe.user;
                const userData = {
                    telegramId: user.id,
                    name: user.first_name || 'Oyun√ßu',
                    photo: user.photo_url || `https://ui-avatars.com/api/?name=${encodeURIComponent(user.first_name || 'Oyun√ßu')}`,
                    username: user.username
                };
                
                // Socket baƒülantƒ±sƒ±nƒ± ba≈ülat
                initializeSocket(userData);
            } else {
                // Normal brauzerd…ô simulyasiya ed…ôk
                const userData = {
                    telegramId: 'web_' + Math.random().toString(36).substr(2, 9),
                    name: 'Test Oyun√ßu',
                    photo: 'https://ui-avatars.com/api/?name=Test+Oyun√ßu',
                    username: null
                };
                
                // 2 saniy…ô g√∂zl…ô v…ô socket baƒülantƒ±sƒ±nƒ± ba≈ülat
                setTimeout(() => {
                    initializeSocket(userData);
                }, 2000);
            }
            
            // R…ông se√ßiml…ôrini y√ºkl…ô
            loadColorOptions();
            loadMapOptions();
        });

        // Socket.io baƒülantƒ±sƒ±nƒ± ba≈ülat
        function initializeSocket(userData) {
            // Render URL-sin…ô baƒülan
            socket = io();
            
            // Serverd…ôn g…ôl…ôn hadis…ôl…ôri dinl…ô
            socket.on('connect', () => {
                console.log('Server…ô baƒülandƒ±:', socket.id);
                
                // Qeydiyyatdan ke√ß
                socket.emit('register', userData);
                
                // Loading ekranƒ±nƒ± gizl…ôt
                setTimeout(() => {
                    showScreen('lobby');
                }, 1000);
            });
            
            socket.on('registered', (data) => {
                console.log('Qeydiyyat tamamlandƒ±:', data);
                currentPlayer = data.player;
                
                // Otaq siyahƒ±sƒ±nƒ± yenil…ô
                refreshRooms();
                
                // X…ôb…ôrdarlƒ±q g√∂st…ôr
                showNotification('Oyun√ßu kimi qeydiyyatdan ke√ßdiniz!', 3000);
            });
            
            socket.on('roomListUpdated', (rooms) => {
                updateRoomList(rooms);
            });
            
            socket.on('roomCreated', (data) => {
                currentRoom = data.room;
                showScreen('room');
                updateRoomUI();
            });
            
            socket.on('roomJoined', (data) => {
                currentRoom = data.room;
                showScreen('room');
                updateRoomUI();
                showNotification('Otaƒüa qo≈üuldunuz!', 2000);
            });
            
            socket.on('joinError', (data) => {
                showNotification(data.message, 3000);
            });
            
            socket.on('roomUpdated', (room) => {
                currentRoom = room;
                updateRoomUI();
            });
            
            socket.on('playerJoined', (data) => {
                showNotification(`${data.player.name} otaƒüa qo≈üuldu!`, 2000);
            });
            
            socket.on('playerLeft', (data) => {
                showNotification('Oyun√ßu otaqdan √ßƒ±xdƒ±!', 2000);
            });
            
            socket.on('gameStarted', (data) => {
                showScreen('game');
                gameState = 'ingame';
                currentPlayer.role = data.role;
                currentPlayer.tasks = data.tasks || [];
                
                // Tap≈üƒ±rƒ±qlarƒ± g√∂st…ôr
                showTasks();
                
                // Oyun idar…ô d√ºym…ôl…ôrini g√∂st…ôr
                showGameControls();
                
                // Oyun√ßularƒ± x…ôrit…ôd…ô yerl…ô≈üdir
                initializePlayers();
                
                showNotification(`Oyun ba≈üladƒ±! Sizin rolunuz: ${data.role === 'impostor' ? 'ƒ∞MPOSTOR' : 'KOMANDA √úZV√ú'}`, 5000);
            });
            
            socket.on('playerMoved', (data) => {
                updatePlayerPosition(data.playerId, data.position, data.location);
            });
            
            socket.on('taskCompleted', (data) => {
                updateTask(data.taskId);
                showNotification(`Tap≈üƒ±rƒ±q tamamlandƒ±! (${data.totalCompleted}/${data.totalTasks})`, 2000);
            });
            
            socket.on('playerKilled', (data) => {
                showNotification(`${getPlayerName(data.victimId)} √∂ld√ºr√ºld√º!`, 3000);
                if (playerCharacters.has(data.victimId)) {
                    const character = playerCharacters.get(data.victimId);
                    character.style.opacity = '0.5';
                }
            });
            
            socket.on('meetingStarted', (data) => {
                showScreen('meeting');
                startMeetingTimer(data.discussionTime, data.votingTime);
                showNotification('G√∂r√º≈ü ba≈üladƒ±!', 2000);
            });
            
            socket.on('startVoting', (data) => {
                startVoting(data.votingTime);
                showNotification('S…ôsverm…ô ba≈üladƒ±!', 2000);
            });
            
            socket.on('votingEnded', (data) => {
                clearMeetingTimers();
                showVotingResults(data);
            });
            
            socket.on('meetingEnded', () => {
                setTimeout(() => {
                    if (gameState === 'ingame') {
                        showScreen('game');
                    }
                }, 5000);
            });
            
            socket.on('gameEnded', (data) => {
                showScreen('end');
                showGameResults(data);
            });
            
            socket.on('returnToLobby', () => {
                currentRoom = null;
                gameState = 'lobby';
                showScreen('lobby');
                refreshRooms();
                showNotification('Lobby…ô qayƒ±tdƒ±nƒ±z!', 2000);
            });
            
            socket.on('disconnect', () => {
                showNotification('Server baƒülantƒ±sƒ± k…ôsildi. Yenid…ôn baƒülanƒ±lƒ±r...', 3000);
            });
        }

        // Ekranlarƒ± d…ôyi≈ü
        function showScreen(screenName) {
            // B√ºt√ºn ekranlarƒ± gizl…ôt
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // ƒ∞st…ônil…ôn ekranƒ± g√∂st…ôr
            document.getElementById(screenName + 'Screen').classList.add('active');
        }

        // Otaq siyahƒ±sƒ±nƒ± yenil…ô
        function refreshRooms() {
            if (socket) {
                // Server avtomatik olaraq otaq siyahƒ±sƒ±nƒ± g√∂nd…ôrir
            }
        }

        // Otaq siyahƒ±sƒ±nƒ± yenil…ô
        function updateRoomList(rooms) {
            const roomsList = document.getElementById('roomsList');
            
            if (rooms.length === 0) {
                roomsList.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #888;">
                        <i class="fas fa-door-closed" style="font-size: 50px; margin-bottom: 20px;"></i>
                        <p>Aktiv otaq yoxdur</p>
                        <p>ƒ∞lk otaƒüƒ± siz yaradƒ±n!</p>
                    </div>
                `;
                return;
            }
            
            roomsList.innerHTML = '';
            
            rooms.forEach(room => {
                const roomElement = document.createElement('div');
                roomElement.className = 'room-card';
                roomElement.onclick = () => joinRoom(room.id);
                
                // Status √º√ß√ºn sinif
                let statusClass = 'status-waiting';
                let statusText = 'G√ñZL∆èYƒ∞R';
                
                if (room.status === 'ingame') {
                    statusClass = 'status-ingame';
                    statusText = 'OYUNDA';
                } else if (room.status === 'starting') {
                    statusClass = 'status-starting';
                    statusText = 'BA≈ûLAYIR';
                }
                
                roomElement.innerHTML = `
                    <div class="room-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <div class="room-info">
                        <div class="room-name">${room.name}</div>
                        <div class="room-details">
                            <span><i class="fas fa-user"></i> ${room.playerCount}/${room.maxPlayers}</span>
                            <span><i class="fas fa-map"></i> ${room.map}</span>
                            <span class="room-status ${statusClass}">${statusText}</span>
                        </div>
                    </div>
                `;
                
                roomsList.appendChild(roomElement);
            });
        }

        // R…ông se√ßiml…ôrini y√ºkl…ô
        function loadColorOptions() {
            const colorOptions = document.getElementById('colorOptions');
            colorOptions.innerHTML = '';
            
            colors.forEach(color => {
                const colorElement = document.createElement('div');
                colorElement.className = 'color-option';
                colorElement.style.backgroundColor = color.code;
                colorElement.innerHTML = color.emoji;
                colorElement.onclick = () => selectColor(color);
                
                colorOptions.appendChild(colorElement);
            });
        }

        // X…ôrit…ô se√ßiml…ôrini y√ºkl…ô
        function loadMapOptions() {
            const mapOptions = document.getElementById('mapOptions');
            mapOptions.innerHTML = '';
            
            maps.forEach(map => {
                const mapElement = document.createElement('div');
                mapElement.className = 'map-option';
                mapElement.onclick = () => selectMap(map);
                
                let icon = 'fas fa-space-shuttle';
                if (map.id === 'mira') icon = 'fas fa-satellite';
                if (map.id === 'polus') icon = 'fas fa-mountain';
                if (map.id === 'airship') icon = 'fas fa-plane';
                
                mapElement.innerHTML = `
                    <div class="map-icon">
                        <i class="${icon}"></i>
                    </div>
                    <div>${map.name}</div>
                    <div style="font-size: 12px; color: #aaa;">${map.maxPlayers} oyun√ßu</div>
                `;
                
                mapOptions.appendChild(mapElement);
            });
            
            // ƒ∞lk x…ôrit…ôni se√ß
            selectMap(maps[0]);
        }

        // R…ông se√ß
        function selectColor(color) {
            selectedColor = color;
            
            // B√ºt√ºn se√ßiml…ôrd…ôn se√ßili class-nƒ± sil
            document.querySelectorAll('.color-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Se√ßilmi≈ü r…ôngi qeyd et
            const colorElements = document.querySelectorAll('.color-option');
            colors.forEach((c, index) => {
                if (c.id === color.id) {
                    colorElements[index].classList.add('selected');
                }
            });
        }

        // X…ôrit…ô se√ß
        function selectMap(map) {
            selectedMap = map.id;
            currentMap = map;
            
            // B√ºt√ºn se√ßiml…ôrd…ôn se√ßili class-nƒ± sil
            document.querySelectorAll('.map-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Se√ßilmi≈ü x…ôrit…ôni qeyd et
            const mapElements = document.querySelectorAll('.map-option');
            maps.forEach((m, index) => {
                if (m.id === map.id) {
                    mapElements[index].classList.add('selected');
                }
            });
        }

        // Otaq yarat
        function createRoom() {
            const roomName = document.getElementById('roomName').value;
            const maxPlayers = document.getElementById('maxPlayers').value;
            const password = document.getElementById('roomPassword').value;
            
            if (!roomName.trim()) {
                showNotification('Otaq adƒ± daxil edin!', 3000);
                return;
            }
            
            if (!selectedColor) {
                selectColor(colors[0]); // ƒ∞lk r…ôngi se√ß
            }
            
            socket.emit('createRoom', {
                name: roomName,
                mapId: selectedMap,
                maxPlayers: parseInt(maxPlayers),
                password: password || null
            });
        }

        // Otaƒüa qo≈üul
        function joinRoom(roomId) {
            const password = prompt('Otaq ≈üifr…ôsi varsa daxil edin (bo≈ü buraxƒ±n):');
            socket.emit('joinRoom', {
                roomId: roomId,
                password: password
            });
        }

        // Otaq UI-nƒ± yenil…ô
        function updateRoomUI() {
            if (!currentRoom) return;
            
            document.getElementById('roomTitle').textContent = currentRoom.name;
            document.getElementById('roomCode').textContent = `Kod: ${currentRoom.id}`;
            
            // Statusu g√ºnc…ôll…ô
            const statusElement = document.getElementById('roomStatus');
            statusElement.className = 'room-status';
            
            if (currentRoom.status === 'waiting') {
                statusElement.classList.add('status-waiting');
                statusElement.textContent = 'G√ñZL∆èYƒ∞R';
            } else if (currentRoom.status === 'starting') {
                statusElement.classList.add('status-starting');
                statusElement.textContent = 'BA≈ûLAYIR';
            } else if (currentRoom.status === 'ingame') {
                statusElement.classList.add('status-ingame');
                statusElement.textContent = 'OYUNDA';
            }
            
            // Oyun√ßularƒ± g√∂st…ôr
            const playersList = document.getElementById('playersList');
            playersList.innerHTML = '';
            
            // Host ilk g…ôlir
            const host = currentRoom.players.find(p => p.id === currentRoom.hostId);
            if (host) {
                const playerElement = createPlayerElement(host, true);
                playersList.appendChild(playerElement);
            }
            
            // Dig…ôr oyun√ßular
            currentRoom.players.forEach(player => {
                if (player.id !== currentRoom.hostId) {
                    const playerElement = createPlayerElement(player, false);
                    playersList.appendChild(playerElement);
                }
            });
            
            // Botlar
            currentRoom.bots.forEach(bot => {
                const botElement = createPlayerElement(bot, false, true);
                playersList.appendChild(botElement);
            });
            
            // Oyun nizamlamalarƒ±nƒ± g√∂st…ôr
            document.getElementById('impostorCount').textContent = currentRoom.settings.impostorCount;
            document.getElementById('killCooldown').textContent = currentRoom.settings.killCooldown + 's';
            document.getElementById('emergencyMeetings').textContent = currentRoom.settings.emergencyMeetings;
        }

        // Oyun√ßu elementini yarat
        function createPlayerElement(player, isHost = false, isBot = false) {
            const element = document.createElement('div');
            element.className = 'player-card';
            
            const color = player.color || { code: '#ffffff', name: 'Aƒü' };
            const name = player.name || 'Oyun√ßu';
            const status = player.isAlive === false ? '√ñL√ú' : 'SAƒû';
            
            let badges = '';
            if (isHost) badges += '<span class="host-badge">HOST</span>';
            if (isBot) badges += '<span class="bot-badge">BOT</span>';
            
            element.innerHTML = `
                <div class="player-color" style="background-color: ${color.code};"></div>
                <div class="player-info">
                    <div class="player-name">
                        ${name} ${badges}
                    </div>
                    <div class="player-status">
                        ${status}
                    </div>
                </div>
            `;
            
            return element;
        }

        // Bot …ôlav…ô et
        function addBot() {
            socket.emit('addBot');
        }

        // Bot sil
        function removeBot() {
            socket.emit('removeBot');
        }

        // Otaqdan √ßƒ±x
        function leaveRoom() {
            socket.emit('leaveRoom');
            currentRoom = null;
            showScreen('lobby');
            refreshRooms();
        }

        // Oyunu ba≈ülat
        function startGame() {
            socket.emit('startGame');
        }

        // Oyun√ßularƒ± ba≈ülat
        function initializePlayers() {
            const gameMap = document.getElementById('gameMap');
            const playersContainer = document.getElementById('playersContainer');
            playersContainer.innerHTML = '';
            playerCharacters.clear();
            
            // √ñz√ºm√ºz√º yarat
            createPlayerCharacter(currentPlayer.id, currentPlayer.name, currentPlayer.color || colors[0]);
            
            // Dig…ôr oyun√ßularƒ± yarat
            if (currentRoom) {
                currentRoom.players.forEach(player => {
                    if (player.id !== currentPlayer.id) {
                        createPlayerCharacter(player.id, player.name, player.color || colors[1]);
                    }
                });
                
                // Botlarƒ± yarat
                currentRoom.bots.forEach(bot => {
                    createPlayerCharacter(bot.id, bot.name, bot.color || colors[2], true);
                });
            }
        }

        // Oyun√ßu xarakterini yarat
        function createPlayerCharacter(playerId, playerName, color, isBot = false) {
            const gameMap = document.getElementById('gameMap');
            const playersContainer = document.getElementById('playersContainer');
            
            const character = document.createElement('div');
            character.className = 'player-character';
            character.id = `player-${playerId}`;
            
            // T…ôsad√ºfi ba≈ülanƒüƒ±c m√∂vqeyi
            const mapWidth = gameMap.clientWidth;
            const mapHeight = gameMap.clientHeight;
            const startX = Math.random() * (mapWidth - 40);
            const startY = Math.random() * (mapHeight - 60);
            
            character.style.left = startX + 'px';
            character.style.top = startY + 'px';
            
            character.innerHTML = `
                <div class="character-body" style="background-color: ${color.code};"></div>
                <div class="character-legs" style="background-color: ${color.code};"></div>
                <div class="character-name">${playerName}${isBot ? ' ü§ñ' : ''}</div>
            `;
            
            playersContainer.appendChild(character);
            playerCharacters.set(playerId, character);
        }

        // Oyun√ßu m√∂vqeyini yenil…ô
        function updatePlayerPosition(playerId, position, location) {
            const character = playerCharacters.get(playerId);
            if (character) {
                character.style.left = position.x + 'px';
                character.style.top = position.y + 'px';
            }
        }

        // Oyun idar…ô d√ºym…ôl…ôrini g√∂st…ôr
        function showGameControls() {
            const gameControls = document.getElementById('gameControls');
            gameControls.innerHTML = '';
            
            if (currentPlayer.role === 'impostor') {
                // ƒ∞mpostor √º√ß√ºn d√ºym…ôl…ôr
                gameControls.innerHTML = `
                    <button class="game-btn" onclick="movePlayer('up')">
                        <i class="fas fa-arrow-up"></i>
                    </button>
                    <button class="game-btn kill" onclick="showKillMenu()">
                        <i class="fas fa-skull-crossbones"></i>
                    </button>
                    <button class="game-btn" onclick="movePlayer('left')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <button class="game-btn" onclick="movePlayer('down')">
                        <i class="fas fa-arrow-down"></i>
                    </button>
                    <button class="game-btn" onclick="movePlayer('right')">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                    <button class="game-btn meeting" onclick="callMeeting()">
                        <i class="fas fa-bullhorn"></i>
                    </button>
                `;
            } else {
                // Komanada √ºzv√º √º√ß√ºn d√ºym…ôl…ôr
                gameControls.innerHTML = `
                    <button class="game-btn" onclick="movePlayer('up')">
                        <i class="fas fa-arrow-up"></i>
                    </button>
                    <button class="game-btn report" onclick="reportBody()">
                        <i class="fas fa-exclamation-triangle"></i>
                    </button>
                    <button class="game-btn" onclick="movePlayer('left')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <button class="game-btn" onclick="movePlayer('down')">
                        <i class="fas fa-arrow-down"></i>
                    </button>
                    <button class="game-btn" onclick="movePlayer('right')">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                    <button class="game-btn meeting" onclick="callMeeting()">
                        <i class="fas fa-bullhorn"></i>
                    </button>
                `;
            }
        }

        // Oyun√ßunu h…ôr…ôk…ôt etdir
        function movePlayer(direction) {
            const character = playerCharacters.get(currentPlayer.id);
            if (!character) return;
            
            const currentLeft = parseInt(character.style.left) || 0;
            const currentTop = parseInt(character.style.top) || 0;
            const speed = 10;
            
            let newLeft = currentLeft;
            let newTop = currentTop;
            
            switch(direction) {
                case 'up': newTop = Math.max(0, currentTop - speed); break;
                case 'down': newTop = Math.min(400, currentTop + speed); break;
                case 'left': newLeft = Math.max(0, currentLeft - speed); break;
                case 'right': newLeft = Math.min(400, currentLeft + speed); break;
            }
            
            character.style.left = newLeft + 'px';
            character.style.top = newTop + 'px';
            
            // Server…ô bildir
            socket.emit('movePlayer', {
                position: { x: newLeft, y: newTop },
                location: 'map'
            });
        }

        // Tap≈üƒ±rƒ±qlarƒ± g√∂st…ôr
        function showTasks() {
            const tasksContainer = document.getElementById('tasksContainer');
            
            if (!currentPlayer.tasks || currentPlayer.tasks.length === 0) {
                tasksContainer.innerHTML = '<div style="text-align: center; padding: 20px; color: #aaa;">Tap≈üƒ±rƒ±q yoxdur</div>';
                return;
            }
            
            tasksContainer.innerHTML = '<h4 style="margin-bottom: 10px; color: #ddd;">TAP≈ûIRIQLAR</h4>';
            
            currentPlayer.tasks.forEach(task => {
                const taskElement = document.createElement('div');
                taskElement.className = 'task-item';
                
                const completedClass = task.completed ? 'completed' : '';
                
                taskElement.innerHTML = `
                    <div class="task-checkbox ${completedClass}" onclick="completeTask('${task.id}')"></div>
                    <div class="task-info">
                        <div class="task-name">${task.name}</div>
                        <div class="task-location">${task.location}</div>
                    </div>
                `;
                
                tasksContainer.appendChild(taskElement);
            });
        }

        // Tap≈üƒ±rƒ±ƒüƒ± tamamla
        function completeTask(taskId) {
            socket.emit('completeTask', taskId);
        }

        // Tap≈üƒ±rƒ±ƒüƒ± yenil…ô
        function updateTask(taskId) {
            const task = currentPlayer.tasks.find(t => t.id === taskId);
            if (task) {
                task.completed = true;
                showTasks();
            }
        }

        // √ñl√º b…ôd…ôni bildir
        function reportBody() {
            socket.emit('reportBody', { x: 100, y: 100 });
        }

        // G√∂r√º≈ü √ßaƒüƒ±r
        function callMeeting() {
            socket.emit('callMeeting');
        }

        // √ñld√ºrm…ô menyusunu g√∂st…ôr
        function showKillMenu() {
            // Yaxƒ±n oyun√ßularƒ± tap v…ô √∂ld√ºrm…ô se√ßimini g√∂st…ôr
            showNotification('Yaxƒ±n oyun√ßu yoxdur', 2000);
        }

        // G√∂r√º≈ü sayƒüacƒ±nƒ± ba≈ülat
        function startMeetingTimer(discussionTime, votingTime) {
            let timeLeft = discussionTime;
            meetingTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('meetingTimer').textContent = `${timeLeft} saniy…ô qaldƒ±`;
                
                if (timeLeft <= 0) {
                    clearInterval(meetingTimer);
                }
            }, 1000);
        }

        // S…ôsverm…ô sayƒüacƒ±nƒ± ba≈ülat
        function startVoting(votingTime) {
            let timeLeft = votingTime;
            votingTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('meetingTimer').textContent = `S…ôsverm…ô: ${timeLeft}s`;
                
                if (timeLeft <= 0) {
                    clearInterval(votingTimer);
                }
            }, 1000);
        }

        // G√∂r√º≈ü sayƒüaclarƒ±nƒ± t…ômizl…ô
        function clearMeetingTimers() {
            if (meetingTimer) clearInterval(meetingTimer);
            if (votingTimer) clearInterval(votingTimer);
        }

        // S…ôsverm…ô n…ôtic…ôl…ôrini g√∂st…ôr
        function showVotingResults(data) {
            // S…ôsverm…ô n…ôtic…ôl…ôrini g√∂st…ôr
            showNotification(data.ejectedPlayerId ? 
                `Oyun√ßu atƒ±ldƒ±! Rol: ${data.role}` : 
                'He√ß kim atƒ±lmadƒ±', 5000);
        }

        // Oyun n…ôtic…ôl…ôrini g√∂st…ôr
        function showGameResults(data) {
            const endTitle = document.getElementById('endTitle');
            const endRoles = document.getElementById('endRoles');
            
            if (data.winner === 'crewmates') {
                endTitle.className = 'end-title victory';
                endTitle.textContent = 'KOMANDA √úZVL∆èRƒ∞ QALƒ∞B G∆èLDƒ∞!';
            } else {
                endTitle.className = 'end-title defeat';
                endTitle.textContent = 'ƒ∞MPOSTORLAR QALƒ∞B G∆èLDƒ∞!';
            }
            
            endRoles.innerHTML = '';
            
            if (currentRoom) {
                currentRoom.players.forEach(player => {
                    const roleElement = document.createElement('div');
                    roleElement.className = 'role-player';
                    
                    const role = data.playerRoles[player.id] || 'crewmate';
                    const roleClass = role === 'impostor' ? 'role-impostor' : 'role-crewmate';
                    const roleText = role === 'impostor' ? 'ƒ∞MPOSTOR' : 'KOMANDA √úZV√ú';
                    
                    roleElement.innerHTML = `
                        <div>${player.name}</div>
                        <div class="role-badge ${roleClass}">${roleText}</div>
                    `;
                    
                    endRoles.appendChild(roleElement);
                });
            }
        }

        // Lobby…ô qayƒ±t
        function returnToLobby() {
            currentRoom = null;
            gameState = 'lobby';
            showScreen('lobby');
            refreshRooms();
        }

        // Oyun√ßu adƒ±nƒ± al
        function getPlayerName(playerId) {
            if (playerId === currentPlayer.id) return 'Siz';
            
            if (currentRoom) {
                const player = currentRoom.players.find(p => p.id === playerId);
                if (player) return player.name;
                
                const bot = currentRoom.bots.find(b => b.id === playerId);
                if (bot) return bot.name;
            }
            
            return 'Oyun√ßu';
        }

        // X…ôb…ôrdarlƒ±q g√∂st…ôr
        function showNotification(message, duration = 3000) {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            
            container.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'slideDown 0.5s ease-out reverse forwards';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 500);
                }
            }, duration);
        }
    </script>
</body>
</html>
